import 'package:flutter/material.dart';

void main() {
  runApp(const MenuApp());
}

class MenuApp extends StatelessWidget {
  const MenuApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: '餐廳菜單 App',
      theme: ThemeData(
        primarySwatch: Colors.pink, // 圖片粉紅調
        scaffoldBackgroundColor: Colors.white,
      ),
      home: const MenuScreen(),
    );
  }
}

class MenuScreen extends StatelessWidget {
  const MenuScreen({super.key});

  // 更準確的菜單數據，基於圖片提取（模糊處標註推斷）
  final List<MenuCategory> categories = [
    MenuCategory(
      name: '飯類 (Rice Dishes)', // 圖片左上綠區
      items: [
        MenuItem(name: '咖哩飯', price: 150), // 圖片可見
        MenuItem(name: '炒飯', price: 140), // 圖片可見
        MenuItem(name: '牛肉飯', price: 160), // 圖片模糊，推斷常見項目
        MenuItem(name: '雞腿飯', price: 170), // 圖片有類似，價格約此
        MenuItem(name: '蔬菜飯', price: 130), // 圖片底部
      ],
    ),
    MenuCategory(
      name: '烤飯 (Baked Rice)', // 圖片有烤飯圖示
      items: [
        MenuItem(name: '海鮮烤飯', price: 180), // 圖片可見
        MenuItem(name: '芝士烤飯', price: 170), // 圖片有芝士元素
        MenuItem(name: '雞肉烤飯', price: 160), // 推斷
      ],
    ),
    MenuCategory(
      name: '披薩 (Pizza)', // 圖片中央紅區，有披薩圖
      items: [
        MenuItem(name: '芝士披薩', price: 200), // 圖片有“芝士披薩”暗示
        MenuItem(name: '海鮮披薩', price: 220), // 圖片有海鮮
        MenuItem(name: '蔬菜披薩', price: 190), // 圖片綠調蔬菜
      ],
    ),
    MenuCategory(
      name: '義大利麵 (Spaghetti)', // 圖片藍區，有Spaghetti
      items: [
        MenuItem(name: '番茄義大利麵', price: 170), // 圖片可見
        MenuItem(name: '奶油義大利麵', price: 160), // 推斷
        MenuItem(name: '海鮮義大利麵', price: 190), // 圖片有海鮮
        MenuItem(name: '蔬菜義大利麵', price: 150), // 圖片蔬菜區
      ],
    ),
    MenuCategory(
      name: '蔬菜捲 (Veggie Wrap)', // 圖片有Wrap
      items: [
        MenuItem(name: '蔬菜捲', price: 120), // 圖片直接標註
        MenuItem(name: '雞肉蔬菜捲', price: 140), // 推斷常見
      ],
    ),
    MenuCategory(
      name: '麵包類 (Bun)', // 圖片有漢堡/麵包圖
      items: [
        MenuItem(name: '漢堡', price: 100), // 圖片可見
        MenuItem(name: '熱狗', price: 90), // 推斷
        MenuItem(name: '三明治', price: 110), // 圖片有類似
      ],
    ),
    MenuCategory(
      name: '飲料 (Drinks)', // 圖片右下，有飲料列表
      items: [
        MenuItem(name: '可樂', price: 50), // 常見
        MenuItem(name: '柳橙汁', price: 60),
        MenuItem(name: '健康飲料', price: 70), // 圖片有“健康飲料”
        MenuItem(name: '茶飲', price: 50), // 圖片底部
      ],
    ),
  ];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text('餐廳菜單', style: TextStyle(color: Colors.white)),
        backgroundColor: Colors.pink,
        elevation: 0,
      ),
      body: ListView.builder(
        padding: const EdgeInsets.all(16.0),
        itemCount: categories.length,
        itemBuilder: (context, index) {
          final category = categories[index];
          return Card(
            margin: const EdgeInsets.only(bottom: 16.0),
            color: _getCategoryColor(index),
            child: ExpansionTile(
              title: Text(
                category.name,
                style: const TextStyle(fontSize: 18, fontWeight: FontWeight.bold, color: Colors.white),
              ),
              children: category.items.map((item) {
                return ListTile(
                  leading: const Icon(Icons.restaurant_menu, color: Colors.white, size: 30),
                  title: Text(item.name, style: const TextStyle(color: Colors.white)),
                  trailing: Text(
                    'NT\$ ${item.price}',
                    style: const TextStyle(
                      color: Colors.white,
                      fontSize: 16,
                      fontWeight: FontWeight.bold,
                    ),
                  ),
                );
              }).toList(),
            ),
          );
        },
      ),
    );
  }

  // 顏色匹配圖片調性
  Color _getCategoryColor(int index) {
    const colors = [
      Colors.green,    // 飯類
      Colors.orange,   // 烤飯
      Colors.red,      // 披薩
      Colors.blue,     // 義大利麵
      Colors.teal,     // 蔬菜捲
      Colors.purple,   // 麵包
      Colors.cyan,     // 飲料
    ];
    return colors[index % colors.length];
  }
}

// 模型類別（不變）
class MenuCategory {
  final String name;
  final List<MenuItem> items;

  MenuCategory({required this.name, required this.items});
}

class MenuItem {
  final String name;
  final double price;

  MenuItem({required this.name, required this.price});
}
